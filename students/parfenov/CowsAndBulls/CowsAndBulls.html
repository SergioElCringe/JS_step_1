<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="play()">Играть</button>
    <script>

        let botArray = botNumberGenerate();

        function botNumberGenerate() {
            let arr = [];
            for (let i = 0; i <= 3; i++) {
                arr[i] = Math.floor(Math.random() * 10);
            };
            return arr;
        };

        function playerInput() {
            const playerNumber = prompt('Напишите четырехзначное число.');
            const playerArr = Array.from(String(playerNumber), Number);
            console.log("Ваше число: " + playerArr);
            return playerArr;
        };

        function bullAndCowsCount() {
            let cows = 0;
            let bulls = 0;
            const playerArray = playerInput();
            for (i = 0; i <= botArray.length - 1; i++) {
                for (j = 0; j <= playerArray.length - 1; j++) {
                    if (botArray[i] == playerArray[j] && i == j) {
                        bulls++;
                    }
                    else if (botArray[i] == playerArray[j] && i != j) {
                        cows++;
                    }
                };
            };
            console.log(`Коров :${cows}\n\nБыков: ${bulls}\n\n`)
            return bulls;
        };

        function play() {
            let i = 10;
            while (i >= 1) {
                let bulls = bullAndCowsCount();
                if (bulls === 4) {
                    botArray = botNumberGenerate();
                    console.log("Компьютер загадал:" + arr);
                    return console.log('Вы выиграли');
                };
                console.log(`у вас осталось ${i - 1} попыток`);
                i--;
            };
            console.log("Компьютер загадал:" + botArray);
            console.log("Попытки кончились, вы проиграли");
            botArray = botNumberGenerate();
        };
    </script>
</body>

</html>