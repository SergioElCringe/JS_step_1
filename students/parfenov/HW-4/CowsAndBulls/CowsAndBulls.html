<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="game.play()">Играть</button>
    <script>

        const player = {
            array: [],
            input() {
                const playerNumber = prompt('Напишите четырехзначное число.');
                array = Array.from(String(playerNumber), Number);
                console.log("Ваше число: " + array);
                return array;
            },
        };

        const bot = {
            array: [],
            NumberGenerate() {
                let numbers = [];
                while (numbers.length < 4) {
                    const rnd = Math.floor(Math.random() * 10);
                    if (!numbers.includes(rnd)) {
                        numbers.push(rnd);
                    }
                };
                return numbers;
            },

        };

        const game = {
            play() {
                bot.array = bot.NumberGenerate();
                for (let i = 9; i > 0;) {
                    let bulls = game.bullAndCowsCount(player.input(), bot.array);
                    if (bulls === 4) {
                        console.log("Компьютер загадал:" + bot.array);
                        return console.log('Вы выиграли');
                    };
                    console.log(`у вас осталось ${--i} попыток`);
                };
                console.log("Компьютер загадал:" + bot.array);
                console.log("Попытки кончились, вы проиграли");
            },

            bullAndCowsCount(player, bot) {
                let cows = 0;
                let bulls = 0;
                for (let i = 0; i < bot.length; i++) {
                    if (player[i] === bot[i]) {
                        bulls++
                    } else if (player.includes(+bot[i])) {
                        cows++;
                    };
                };
                console.log(`Коров :${cows}\n\nБыков: ${bulls}\n\n`)
                return bulls;
            },
        };
    </script>
</body>

</html>